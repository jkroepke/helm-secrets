apiVersion: v1
type: getter/v1
name: "secrets-getter"
version: "4.7.0-dev"
runtime: subprocess
config:
  protocols:
    - "secrets"
    - "secrets+gpg-import"
    - "secrets+gpg-import-kubernetes"
    - "secrets+age-import"
    - "secrets+age-import-kubernetes"
    - "secrets+literal"
runtimeConfig:
  platformCommand:
    - protocols:
      - "secrets"
      - "secrets+gpg-import"
      - "secrets+gpg-import-kubernetes"
      - "secrets+age-import"
      - "secrets+age-import-kubernetes"
      - "secrets+literal"
      os: windows
      command: >-
        cmd.exe /D /E:ON /V:ON /C !HELM_PLUGIN_DIR!\scripts\wrapper\run.cmd
      args:
        - "downloader"

    - protocols:
        - "secrets"
        - "secrets+gpg-import"
        - "secrets+gpg-import-kubernetes"
        - "secrets+age-import"
        - "secrets+age-import-kubernetes"
        - "secrets+literal"
      os: linux
      command: "$HELM_PLUGIN_DIR/scripts/run.sh"
      args:
        - "downloader"

    - protocols:
        - "secrets"
        - "secrets+gpg-import"
        - "secrets+gpg-import-kubernetes"
        - "secrets+age-import"
        - "secrets+age-import-kubernetes"
        - "secrets+literal"
      os: darwin
      command: "$HELM_PLUGIN_DIR/scripts/run.sh"
      args:
        - "downloader"

    - protocols:
        - "secrets"
        - "secrets+gpg-import"
        - "secrets+gpg-import-kubernetes"
        - "secrets+age-import"
        - "secrets+age-import-kubernetes"
        - "secrets+literal"
      command: "$HELM_PLUGIN_DIR/scripts/run.sh"
      args:
        - "downloader"
